{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        elem_count: 24,\r\n        lock_elem_time: 0.6,\r\n        lock_music_time: 15,\r\n        wave_anim_duration: 0.8,\r\n        \r\n        play_wave_music_time: {\r\n            default: [],\r\n            type: cc.Float,\r\n        },\r\n        \r\n        click_item_box: {\r\n            default: [],\r\n            type: cc.Node,\r\n        },\r\n        \r\n        light_array: {\r\n            default: [],\r\n            type: cc.Prefab,\r\n        },\r\n    },\r\n    \r\n    preload_sound: function() {\r\n        var sound_list = [\r\n            \"resources/sounds/click.mp3\",\r\n            \"resources/sounds/bass/elem_1.mp3\",\r\n            \"resources/sounds/bass/elem_2.mp3\",\r\n            \"resources/sounds/bass/elem_3.mp3\",\r\n            \"resources/sounds/bass/elem_4.mp3\",\r\n            \"resources/sounds/bass/elem_5.mp3\",\r\n            \"resources/sounds/bass/elem_6.mp3\",\r\n            \"resources/sounds/bass/elem_7.mp3\",\r\n            \"resources/sounds/bass/elem_8.mp3\",\r\n            \"resources/sounds/bass/elem_9.mp3\",\r\n            \"resources/sounds/bass/elem_10.mp3\",\r\n            \"resources/sounds/bass/elem_11.mp3\",\r\n            \"resources/sounds/bass/elem_12.mp3\",\r\n            \"resources/sounds/bass/elem_13.mp3\",\r\n            \"resources/sounds/bass/elem_14.mp3\",\r\n            \"resources/sounds/bass/elem_15.mp3\",\r\n            \"resources/sounds/bass/elem_16.mp3\",\r\n            \"resources/sounds/bass/elem_17.mp3\",\r\n            \"resources/sounds/bass/elem_18.mp3\",\r\n            \"resources/sounds/bass/elem_19.mp3\",\r\n            \"resources/sounds/bass/elem_20.mp3\",\r\n            \"resources/sounds/bass/elem_21.mp3\",\r\n            \"resources/sounds/bass/elem_22.mp3\",\r\n            \"resources/sounds/bass/elem_23.mp3\",\r\n            \"resources/sounds/bass/elem_24.mp3\",\r\n            \"resources/sounds/bass/mid_change.mp3\",\r\n            \"resources/sounds/bass/hole.mp3\",\r\n        ];\r\n        \r\n        for(var i = 0; i < sound_list.length; i ++) {\r\n            var url = cc.url.raw(sound_list[i]);\r\n            cc.loader.loadRes(url, function() {});    \r\n        }\r\n    }, \r\n    \r\n    play_sound: function(name) {\r\n        var url_data = cc.url.raw(name);\r\n        cc.audioEngine.stopMusic();\r\n        cc.audioEngine.playMusic(url_data);\r\n    },\r\n    \r\n    call_latter: function(callfunc, delay) {\r\n        var delay_action = cc.delayTime(delay);\r\n        var call_action = cc.callFunc(callfunc, this);\r\n        var seq = cc.sequence([delay_action, call_action]);\r\n        this.node.runAction(seq);\r\n    },\r\n    \r\n    start_light: function(event) {\r\n        if(!this.start_valid) {\r\n            return;\r\n        }\r\n        this.start_valid = false;\r\n\r\n        var end_x = event.getLocation().x;\r\n        var end_y = event.getLocation().y;\r\n        var center_pos = cc.p((end_x + this.start_x) * 0.5, (end_y + this.start_y) * 0.5);\r\n        var is_left = (end_x < this.start_x);\r\n            \r\n        var dir = cc.v2((end_x - this.start_x), (end_y - this.start_y));\r\n        var scale = dir.mag() / 540;\r\n        // var scale = 1.0 + Math.random() * 0.5;\r\n        this.on_water_click(cc.p(this.start_x, this.start_y), dir.signAngle(cc.v2(0, -1)), scale);\r\n    }, \r\n    \r\n    is_lighting_on: function(is_on) {\r\n        if(is_on) {\r\n            this.white_bg.active = true;\r\n            this.blue_bg.active = true;\r\n            this.light_mask.opacity = 255;\r\n            this.white_bg.runAction(cc.fadeIn(0.15));\r\n            this.light_mask.active = true;\r\n        }\r\n        else {\r\n            this.white_bg.active = true;\r\n            this.blue_bg.opacity = 255;\r\n            this.blue_bg.active = true;\r\n            this.white_bg.runAction(cc.fadeOut(0.15));\r\n            this.light_mask.runAction(cc.fadeOut(0.15));\r\n        }\r\n    }, \r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.preload_sound();\r\n        \r\n        this.anchor_root = cc.find(\"UI_ROOT/anchor-center\");\r\n        this.kim_cat_com = cc.find(\"UI_ROOT/anchor-center/kim_cat\").getComponent(\"frame_anim_second\");\r\n        this.kim_sprite_com = cc.find(\"UI_ROOT/anchor-center/kim_cat\").getComponent(cc.Sprite);\r\n        \r\n        this.yinfu = cc.find(\"UI_ROOT/anchor-center/yinfu\");\r\n        this.sp_yinfu = this.yinfu.getComponent(sp.Skeleton);\r\n        \r\n        var url = cc.url.raw(\"resources/frame_anim/cat_anim/cat_1.png\");\r\n        var sp2 = new cc.SpriteFrame(url);\r\n        this.kim_idel_sp = sp2;\r\n        this.light_mask = cc.find(\"UI_ROOT/anchor-center/light_mask\");\r\n        this.light_mask.active = false;\r\n        \r\n        this.lock_click = false;\r\n        this.click_mode = 0; \r\n\r\n        this.music_index = 1;\r\n        this.start_valid = false;\r\n\r\n        this.white_bg = cc.find(\"UI_ROOT/anchor-background/white\");\r\n        this.blue_bg = cc.find(\"UI_ROOT/anchor-background/blue\");\r\n        this.white_bg.active = false\r\n        this.node.on('touchstart', function(event) {\r\n            if(!this.anchor_root.active) {\r\n                return;\r\n            }\r\n            \r\n            for(var i = 0; i < this.click_item_box.length; i ++) {\r\n                var bound_box = this.click_item_box[i].getBoundingBox();\r\n                var pos = this.click_item_box[i].getParent().convertTouchToNodeSpace(event);\r\n                \r\n                if(bound_box.contains(pos)) {\r\n                    this.start_valid = true;\r\n                    this.start_x = event.getLocation().x;\r\n                    this.start_y = event.getLocation().y;\r\n                    event.stopPropagation();\r\n                }\r\n            }\r\n        }.bind(this));\r\n        \r\n        this.node.on('touchmove', function(event){\r\n        }.bind(this));\r\n        \r\n        this.node.on('touchend', function(event){\r\n           this.start_light(event);\r\n        }.bind(this));\r\n        \r\n        this.node.on('touchcancel', function(event) {\r\n           this.start_light(event); \r\n        }.bind(this));\r\n        \r\n      \r\n        this.light_root = cc.find(\"UI_ROOT/anchor-center/light_root\");\r\n        this.click_pos_random = [];\r\n    },\r\n    \r\n    start: function() {\r\n        \r\n    }, \r\n    \r\n    on_play_next: function() {\r\n        this.call_latter(this.play_middle_music.bind(this), this.wave_anim_duration);\r\n    }, \r\n    \r\n    play_middle_music: function() {\r\n        this.play_sound(\"resources/sounds/bass/mid_change.mp3\");\r\n        \r\n        this.sp_yinfu.clearTracks();\r\n        this.sp_yinfu.setAnimation(0, \"animation\", true);\r\n        \r\n        this.call_latter(function() {\r\n            this.play_hole_music();\r\n        }.bind(this), 4.5);\r\n    },\r\n    \r\n    on_play_music_ended: function() {\r\n        this.sp_yinfu.clearTracks();\r\n        this.yinfu.active = false;\r\n        \r\n        this.click_mode = 0;\r\n        this.lock_click = false;\r\n        this.music_index = 1;\r\n        this.click_pos_random = [];\r\n        this.light_root.removeAllChildren();\r\n    },\r\n    \r\n    play_hole_music: function() {\r\n        // this.mid_wave_anim_com.node.active = false;\r\n        this.click_mode ++;\r\n        this.play_sound(\"resources/sounds/bass/hole.mp3\");\r\n        this.music_time = 0;\r\n        this.music_index = 0;\r\n        this.call_latter(this.on_play_music_ended.bind(this), this.lock_music_time);\r\n    }, \r\n    \r\n    play_cat_idle: function() {\r\n        this.kim_sprite_com.spriteFrame = this.kim_idel_sp;\r\n    }, \r\n    \r\n    play_wave_by_random: function(w_pos, angle, scale) {\r\n        \r\n        angle = -angle * 57.3 \r\n        \r\n        if (angle > 35) {\r\n            angle = 35;\r\n        } \r\n        if(angle < -35) {\r\n            angle = -35;\r\n        }\r\n        \r\n        this.kim_cat_com.play(this.play_cat_idle.bind(this));\r\n        \r\n        // this.yinfu.active = true;\r\n        // this.sp_yinfu.clearTracks();\r\n        // this.sp_yinfu.setAnimation(0, \"animation\", false);\r\n        \r\n        \r\n        // 播放闪电\r\n        var random_num = [0, 1, 2];\r\n        random_num.sort(function() {\r\n            return Math.random() - 0.5;\r\n        });\r\n        // end\r\n        \r\n        var index = random_num[0];\r\n        var prefab = cc.instantiate(this.light_array[index]);\r\n        this.light_root.addChild(prefab);\r\n        prefab.active = true;\r\n        \r\n        var pos = this.light_root.convertToNodeSpace(w_pos);\r\n        \r\n        prefab.x = pos.x;\r\n        prefab.y = 539;\r\n        prefab.scale = scale;\r\n         \r\n        prefab.rotation = (angle);\r\n        var frame_anim_com = prefab.getComponent(\"frame_anim\");\r\n        this.is_lighting_on(true);\r\n        \r\n        frame_anim_com.play(function() {\r\n            prefab.removeFromParent();\r\n            this.lock_click = false;\r\n            this.is_lighting_on(false);\r\n        }.bind(this));\r\n    },\r\n    \r\n    on_water_click: function(w_pos, angle, scale) {\r\n        if(this.lock_click === true) {\r\n            return;\r\n        }\r\n        this.click_pos_random.push([w_pos, angle, scale]);\r\n         \r\n        angle = -angle * 57.3 \r\n        \r\n        if (angle > 35) {\r\n            angle = 35;\r\n        } \r\n        if(angle < -35) {\r\n            angle = -35;\r\n        }\r\n        \r\n        \r\n        this.lock_click = true;\r\n        \r\n        this.kim_cat_com.play(this.play_cat_idle.bind(this));\r\n        \r\n        this.yinfu.active = true;\r\n        this.sp_yinfu.clearTracks();\r\n        this.sp_yinfu.setAnimation(0, \"animation\", false);\r\n        \r\n        this.play_sound(\"resources/sounds/bass/elem_\" + this.music_index + \".mp3\");\r\n        if(this.music_index > 24) {\r\n            // this.music_index = 1;\r\n            this.call_latter(this.on_play_next.bind(this), this.lock_elem_time);\r\n            return;\r\n        }\r\n        \r\n        this.music_index ++;\r\n        this.click_mode ++;\r\n        \r\n        // 播放闪电\r\n        var random_num = [0, 1, 2];\r\n        random_num.sort(function() {\r\n            return Math.random() - 0.5;\r\n        });\r\n        // end\r\n        \r\n        var index = random_num[0];\r\n        var prefab = cc.instantiate(this.light_array[index]);\r\n        this.light_root.addChild(prefab);\r\n        prefab.active = true;\r\n        \r\n        var pos = this.light_root.convertToNodeSpace(w_pos);\r\n        \r\n        prefab.x = pos.x;\r\n        prefab.y = 539;\r\n        prefab.scale = scale;\r\n         \r\n        prefab.rotation = (angle);\r\n        var frame_anim_com = prefab.getComponent(\"frame_anim\");\r\n        this.is_lighting_on(true);\r\n        \r\n        frame_anim_com.play(function() {\r\n            prefab.removeFromParent();\r\n            this.lock_click = false;\r\n            this.is_lighting_on(false);\r\n        }.bind(this));\r\n        // end \r\n    },\r\n    \r\n     update: function (dt) {\r\n        // 播放整首歌曲\r\n        if(this.click_mode != this.elem_count + 1) { \r\n            return;\r\n        }\r\n        \r\n        if(this.music_index >= this.play_wave_music_time.length) { // 播放结束\r\n            return;\r\n        }\r\n        \r\n        this.music_time += dt;\r\n        while(this.music_index < (this.play_wave_music_time.length - 1) && this.music_time >= this.play_wave_music_time[this.music_index + 1]) {\r\n            this.music_index ++;\r\n        }\r\n        \r\n        if(this.music_time >= this.play_wave_music_time[this.music_index]) {\r\n            var index = this.music_index;\r\n            while(index >= this.elem_count) {\r\n                index -= this.elem_count;\r\n            }\r\n            this.play_wave_by_random(this.click_pos_random[index][0], this.click_pos_random[index][1], this.click_pos_random[index][2]); // 播放动画\r\n            this.music_index ++;\r\n        }\r\n        // end\r\n    },\r\n});\r\n"
  ]
}